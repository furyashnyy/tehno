# Техническое задание: Веб-сайт для SCP: Secret Laboratory

## 1. Введение

### 1.1. Цель проекта
Создание веб-платформы для сообщества игры SCP: Secret Laboratory с системой аутентификации через Steam, личным кабинетом, системой доната и управлением игровыми привилегиями.

### 1.2. Общее описание
Веб-сайт предоставляет пользователям возможность аутентификации через Steam, просмотр информации о серверах, приобретение игровых привилегий через систему доната, управление активными покупками и настройки привязки аккаунтов.

## 2. Технические требования

### 2.1. Фронтенд
- **HTML5**: Семантическая верстка
- **CSS3**: Flexbox/Grid для адаптивности, препроцессор (SASS/SCSS)
- **JavaScript**: Нативный JS с использованием современных стандартов (ES6+)
- **Библиотеки**: 
  - Steam Web API для аутентификации
  - Robokassa API для обработки платежей
  - Chart.js для визуализации (опционально)

### 2.2. Бэкенд
- **Node.js**: Серверная платформа
- **Express.js**: Веб-фреймворк
- **Passport-steam**: Аутентификация через Steam
- **Sequelize/Mongoose**: ORM/ODM для работы с БД
- **Сессии**: express-session или JWT

### 2.3. База данных
- **PostgreSQL/MongoDB**: Хранение пользователей, заказов, покупок
- **Защита данных**: Все конфиденциальные данные должны храниться в зашифрованном виде
- **Резервное копирование**: Регулярное автоматическое резервное копирование базы данных
- **Безопасное подключение**: Использование SSL/TLS для подключения к БД

### 2.4. Внешние API
- **Steam Web API**: Аутентификация и получение данных профиля
- **SCP:SL API**: Получение информации о серверах
- **Robokassa API**: Обработка платежей
- **Discord API**: Привязка Discord-аккаунта

## 3. Функциональные требования

### 3.1. Аутентификация через Steam
- Перенаправление на Steam для авторизации
- Обработка callback от Steam
- Создание сессии/токена для аутентифицированного пользователя

### 3.2. Личный кабинет

#### 3.2.1. Вкладка "Главная"
- Отображение списка серверов (максимум 10)
- Информация о количестве игроков на каждом сервере
- Кэширование данных для соблюдения лимита API (10 запросов в 5 минут)
- Автоматическое обновление информации с интервалом

#### 3.2.2. Вкладка "Донат"
- Каталог доступных ролей/привилегий для покупки
- Корзина для добавления товаров
- Интеграция с Robokassa для обработки платежей
- Подтверждение успешной/неуспешной оплаты

#### 3.2.3. Вкладка "Заказы"
- История всех совершенных покупок
- Детализация заказов (дата, сумма, статус)
- Фильтрация и поиск по заказам

#### 3.2.4. Вкладка "Покупки"
- Список активных покупок
- Возможность редактирования параметров (цвет ника и др.)
- Отображение оставшегося времени действия (для временных привилегий)

#### 3.2.5. Вкладка "Настройки"
- Перепривязка Steam-аккаунта
- Привязка/перепривязка Discord-аккаунта через OAuth2
- Управление настройками профиля

## 4. Прототипы интерфейса

### 4.1. Главная страница (до аутентификации)
- Логотип SCP:SL
- Кнопка "Войти через Steam"
- Фоновая тематическая стилизация

### 4.2. Личный кабинет
- Боковое меню/навигационная панель с вкладками
- Адаптивный дизайн для мобильных устройств
- Информационная панель с данными пользователя (Steam аватар, никнейм)

## 5. Безопасность

- Защита от XSS и CSRF атак
- Валидация всех входящих данных
- Хэширование конфиденциальной информации (пароли, платежные данные)
- HTTPS для всех соединений
- Ограничение попыток входа
- **Защищенное хранение данных**: Все пользовательские данные, включая информацию о платежах и аккаунтах, хранятся в защищенной базе данных с шифрованием конфиденциальных полей
- **Регулярные обновления безопасности**: Систематическое обновление зависимостей и исправление уязвимостей

## 6. Развертывание

- Docker-контейнеризация (опционально)
- Настройка обратного прокси (Nginx)
- Развертывание на VPS/облачном хостинге
- **Защита базы данных**: Изоляция БД в приватной сети с ограниченным доступом
- **Мониторинг безопасности**: Внедрение системы мониторинга для отслеживания подозрительной активности

## 7. Тестирование

- Unit-тесты для критических функций
- Интеграционное тестирование API
- Тестирование UI/UX
- **Тестирование на проникновение**: Проведение пентестов для выявления уязвимостей
- **Проверка защиты данных**: Аудит системы хранения и обработки конфиденциальной информации

---

**Примечание**: Это техническое задание является ориентировочным и может корректироваться в процессе разработки. Все пользовательские данные должны обрабатываться в соответствии с законом о защите персональных данных (GDPR/Роскомнадзор).
